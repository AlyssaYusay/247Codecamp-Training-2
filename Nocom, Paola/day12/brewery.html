<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch API - Brewery</title>
</head>
<body>
    <h1>Using the Fetch API</h1>
    <input type="text" placeholder="Enter state" id="input1">
    <button id="btn2">Get Brewery</button>
    <ul id="output">

    </ul>

    <script type="text/javascript">

        const getBrewery = async () => {
            let stateInput = document.querySelector('#input1').value;

            let state = '';
            let stateId = await fetch(`https://api.openbrewerydb.org/breweries?by_state=${stateInput}`);
            let stateData = await stateId.json();
            
            state = `<li>Name: ${stateData[0].name}</li>
                    <li>Brewery Type: ${stateData[0].brewery_type}</li>
                    <li>City: ${stateData[0].city}</li>
                    <li>State: ${stateData[0].state}</li>`;

            document.querySelector('#output').innerHTML = state;
            console.log(`Breweries loaded`)
            console.log(stateData)
        }

        let btn2 = document.querySelector('#btn2')
        btn2.addEventListener('click', getBrewery)
    </script>
    
</body>
</html>